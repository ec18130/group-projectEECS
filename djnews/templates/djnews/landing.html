{% extends 'base.html' %}
{% load static %}

{% block head %}
    <link
            rel="stylesheet"
            type="text/css"
            href="{% static 'djnews/css/landing.css' %}"
    />
{% endblock %}
{% block content %}
    Hello, {{ user.username|default:'Guest' }}! This is your landing page.
    <div class="articles-container container-fluid">
        <div class="row">
            <div class="col">
                <h1 class="text-center">ARTICLES</h1>
            </div>
        </div>
        <div class="row category-selector-row">
            <div class="col  mx-auto">
                <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                    <button class="btn btn-dark" onclick="filterCategories('all')">All</button>
                    <button class="btn btn-dark" onclick="filterCategories('favourites')">Favourites</button>
                    <button class="navbar-toggler" type="button" data-toggle="collapse"
                            data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mr-auto">
                            {% for category in categories %}
                                {% if forloop.counter0 < 5 %}
                                    <button class="btn btn-dark"
                                            onclick="filterCategories('{{ category.name }}')">{{ category.name }}</button>
                                {% endif %}
                            {% endfor %}
                        </ul>
                        {% if categories.count > 0 %}
                            <ul class="navbar-nav">
                                <li class="nav-item dropdown ">
                                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        More Categories
                                    </a>
                                    <div class="dropdown-menu bg-dark" aria-labelledby="navbarDropdown">
                                        {% for category in categories %}
                                            {% if forloop.counter0 > 0 %}
                                                <button class="btn btn-dark"
                                                        onclick="filterCategories('{{ category.name }}')">{{ category.name }}</button>
                                            {% endif %}
                                        {% endfor %}
                                    </div>
                                </li>
                            </ul>
                        {% endif %}
                    </div>
                </nav>
            </div>
        </div>
        <div id="article-container">
        </div>
    </div>
{% endblock %}
{% block footerScritps %}
    <script> let user = {{ user.id }}</script>
    <script src="{% static 'djnews/js/landing.js' %}"></script>
{% endblock %}
